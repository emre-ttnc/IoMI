<div class="collapsable card m-1 bg-dark">
    <div class="p-2 d-flex justify-content-between align-items-center card-header collapse-header" @onclick=@Toggle>
        @Title
        <ion-icon name="chevron-down-outline" style="@(Collapsed ? "" : "transform: rotate(-180deg);") transition: transform .3s linear;"></ion-icon>
    </div>
    <div class="card-body p-0" style="@(Collapsed ? "max-height: 0;" : "max-height: 100vh;") overflow: hidden; transition: max-height .3s linear; background-color: rgba(255,255,255,.04)">
        @ChildContent
    </div>
</div>

@code {
    [Parameter] public RenderFragment ChildContent { get; set; } = default!;
    [Parameter] public bool Collapsed { get; set; }
    [Parameter] public string Title { get; set; } = string.Empty;

    private void Toggle()
    {
        Collapsed = !Collapsed;
    }
}